# 핸드오프 - 2026-01-28 I18N P7

## 빌드 상태
- 타입 체크: ✅
- 빌드: ✅
- 린트: ✅

## 완료된 작업

### 1. 언어 토글 버그 수정
**문제**: 영어 설정 후 페이지 이동하면 다시 한국어로 돌아감

**해결**:
- `middleware.ts` 수정
- 쿠키(`NEXT_LOCALE`)가 설정되어 있고 URL에 로케일 prefix가 없으면 자동 리다이렉트
- 영어 선택 시 `/en/...`로 리다이렉트하여 페이지 이동 후에도 영어 유지

**파일**:
- `middleware.ts` - 쿠키 기반 로케일 리다이렉트 로직 추가

### 2. 지역 기반 자동 언어 전환
- Vercel의 `x-vercel-ip-country` 헤더로 국가 감지
- **한국(KR)**: 한국어 (ko)
- **그 외 모든 국가**: 영어 (en)
- 사용자가 수동으로 언어 변경 시 쿠키 저장되어 자동 감지보다 우선 적용
- 로컬 개발 시 기본값: 한국어

### 3. 푸터 영문화
**파일**: `components/layout/Footer.tsx`

- 로케일에 따라 다른 텍스트 표시:
  - **한국어**: 조용현, 박현일 / 경기도 남양주시...
  - **영어**: Yonghyun Cho, Hyunil Park / B1, 26, Hongyureung-ro...

### 4. 법적 페이지 영문화
**파일**:
- `app/[locale]/(main)/privacy/page.tsx` - 개인정보처리방침
- `app/[locale]/(main)/terms/page.tsx` - 이용약관
- `app/[locale]/(main)/refund/page.tsx` - 환불약관

**특징**:
- Server Component로 변환 (기존 "use client" 제거)
- 로케일에 따라 전체 컨텐츠 전환
- 영문 버전에 "이 영문 번역은 참고용이며, 한국어 버전이 법적 효력을 갖습니다" 안내 표시
- 뒤로가기 버튼, 시행일 등 모두 번역 적용

### 5. Color Correction 페이지 영문화
**파일**: `app/[locale]/(main)/color-correction/page.tsx`

영문화 항목:
- 제목: "이미지 스튜디오" → "Image Studio"
- 부제목, 탭 이름(필터/색 전이/배경 제거/컬러웨이)
- 업로드 안내문, 미리보기 라벨, 버튼 텍스트

### 6. Settings 페이지 영문화
**파일**: `app/[locale]/(main)/settings/page.tsx`

영문화 항목:
- 제목: "설정" → "Settings"
- 탭 이름: 프로필/크레딧/사업자 인증/추천인
- 프로필: 이름, 저장 버튼
- 크레딧: 보유 크레딧, 설명
- 사업자 인증: 인증 상태, 안내문, 사업자등록번호 입력
- 추천인: 내 추천 코드, 복사, 입력, 적용

### 7. 번역 파일 업데이트
**파일**:
- `messages/ko/common.json`
- `messages/en/common.json`

**추가된 키**:
- `settings.*` - 설정 페이지 번역
- `colorCorrection.*` - 색상 보정 페이지 번역
- `legal.*` - 법적 페이지 번역 (privacy, terms, refund)

## 수정된 파일 목록

```
middleware.ts
components/layout/Footer.tsx
components/theme/language-toggle.tsx
app/[locale]/(main)/privacy/page.tsx
app/[locale]/(main)/terms/page.tsx
app/[locale]/(main)/refund/page.tsx
app/[locale]/(main)/color-correction/page.tsx
app/[locale]/(main)/settings/page.tsx
messages/ko/common.json
messages/en/common.json
```

## 미해결 이슈
- 없음

## 테스트 체크리스트
- [ ] 영어 → 페이지 이동 → 영어 유지 확인
- [ ] 해외 접속 시 자동 영어 표시 (VPN 테스트)
- [ ] `/en/privacy`, `/en/terms`, `/en/refund` 영문 버전 확인
- [ ] `/en/color-correction` 영문 버전 확인
- [ ] `/en/settings` 영문 버전 확인
- [ ] 푸터 영문 모드에서 주소/대표자명 확인

## 다음 작업 제안
- 추가 영문화 필요 페이지 확인 (갤러리, 워크플로우 등)
- 스튜디오 탭 컴포넌트 (FilterTab, ColorTransferTab, BackgroundRemovalTab) 영문화
