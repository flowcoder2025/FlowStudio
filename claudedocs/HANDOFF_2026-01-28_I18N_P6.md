# 핸드오프 - 2026-01-28 (i18n Phase 6)

## 빌드 상태
- 타입 체크: ✅
- 빌드: ✅
- 린트: ✅ (경고 13개 - 기존 코드, i18n 무관)

## 완료된 작업: Phase 6 (데이터 파일 번역 연동)

### 수정된 파일
| 파일 | 변경 내용 |
|------|----------|
| `messages/ko/common.json` | `workflow.similar` 섹션 추가 |
| `messages/en/common.json` | `workflow.similar` 섹션 영어 번역 추가 |
| `components/workflow/SimilarWorkflows.tsx` | 3개 컴포넌트에 useTranslations 적용 |

### 추가된 번역 키 구조

#### workflow.similar 섹션
```json
{
  "title": "비슷한 워크플로우",
  "otherIndustry": "다른 업종",
  "similarity": "{score}% 유사",
  "inspirationHint": "다른 업종에서 영감을 얻어보세요! {count}개의 유사한 워크플로우가 있습니다.",
  "crossIndustryTitle": "다른 업종에서 영감 얻기"
}
```

### 번역 적용 컴포넌트 상세

#### SimilarWorkflows 컴포넌트
- `useTranslations("workflow.similar")` 훅 추가
- `useTranslations("workflow.industries")` 훅 추가 (업종명 번역용)
- 하드코딩된 텍스트 → 번역 키로 변경:
  - `title` prop 기본값: "비슷한 워크플로우" → `t("title")`
  - "다른 업종" 뱃지 → `t("otherIndustry")`
  - "X% 유사" → `t("similarity", { score })`
  - 크로스 인더스트리 힌트 메시지 → `t("inspirationHint", { count })`

#### WorkflowCard 내부 컴포넌트
- `t`와 `tIndustries` props 추가
- 업종명: `industryInfo?.nameKo` → `tIndustries(\`${industry}.name\`)`
- "다른 업종" 뱃지: 하드코딩 → `t("otherIndustry")`
- 유사도: 하드코딩 → `t("similarity", { score })`

#### CrossIndustryList 컴포넌트
- `useTranslations("workflow.similar")` 훅 추가
- `useTranslations("workflow.industries")` 훅 추가
- 섹션 타이틀: "다른 업종에서 영감 얻기" → `t("crossIndustryTitle")`
- 업종명 및 유사도 번역 적용

#### IndustryNavigation 컴포넌트
- `useTranslations("workflow.industries")` 훅 추가
- 업종명: `info?.nameKo` → `tIndustries(\`${industry}.name\`)`

## 아키텍처 결정

### 데이터 파일 vs 컴포넌트 번역
데이터 파일들(`industries.ts`, `actions/*.ts`, `payment/config.ts`)은 수정하지 않고, **컴포넌트에서 번역 키를 사용하는 방식**을 채택:

**이유:**
1. 데이터 파일은 서버/클라이언트 모두에서 사용됨
2. `useTranslations` 훅은 클라이언트 컴포넌트에서만 사용 가능
3. 서버 컴포넌트에서는 `getTranslations`를 별도로 사용해야 함
4. 기존 `nameKo`, `name` 필드는 fallback으로 유지

**장점:**
- 기존 코드 변경 최소화
- 서버/클라이언트 호환성 유지
- 번역 키가 이미 `messages/` 파일에 정의되어 있음

## 테스트 방법
1. `npm run dev` 실행
2. `/result` 페이지에서 "비슷한 워크플로우" 섹션 확인
3. `/en/result` 접속 → 영어 텍스트 확인
4. 크로스 인더스트리 추천 카드의 "다른 업종" 뱃지 확인
5. 유사도 표시 "X% 유사" → "X% similar" 전환 확인

## 검증 완료
```bash
npm run build    # ✅ 성공
npx tsc --noEmit # ✅ 에러 0개
npm run lint     # ⚠️ 경고 13개 (기존 - Phase 범위 외)
```

## 기술 참고

### 번역 함수 패턴
```typescript
// 컴포넌트 내부
const t = useTranslations("workflow.similar");
const tIndustries = useTranslations("workflow.industries");

// 번역된 업종명
const industryName = tIndustries(`${industry}.name`);

// 파라미터 사용
t("similarity", { score: 85 })  // "85% 유사" 또는 "85% similar"
t("inspirationHint", { count: 3 })  // "다른 업종에서 영감을 얻어보세요! 3개의..."
```

### 내부 컴포넌트에 번역 전달
```typescript
// Props로 번역 함수 전달
interface WorkflowCardProps {
  t: ReturnType<typeof useTranslations>;
  tIndustries: ReturnType<typeof useTranslations>;
}

// 컴포넌트 호출
<WorkflowCard t={t} tIndustries={tIndustries} ... />
```

## 다음 세션

### i18n 추가 작업 (선택)
Phase 6에서 기본 번역 연동 완료. 추가 개선 가능 사항:
- `EXPRESSION_INTENT_INFO`의 `nameKo` → 번역 키 변환 (intents.ts)
- 결제 설정의 `features` 배열 → 동적 번역 키 매핑
- 서버 컴포넌트용 `getTranslations` 적용 (페이지 레벨)

### 완료 상태
i18n Phase 1-6 모두 완료:
- Phase 1: Foundation (next-intl 설정) ✅
- Phase 2: Layout (Header, Footer) ✅
- Phase 3: 워크플로우 & 결제 시스템 ✅
- Phase 4: 워크플로우 컴포넌트 ✅
- Phase 5: 페이지 번역 ✅
- Phase 6: 데이터 파일 번역 연동 ✅
